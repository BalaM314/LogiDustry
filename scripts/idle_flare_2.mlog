# global
set distance 20
set utype @flare

_loop:
ubind utype
sensor flag @unit @flag
jump _loop notEqual flag 0 # Ignore if flag isnt 0
ulocate building core false 0 cx cy found core
ucontrol target 0 0 0
uradar enemy any any distance 0 1 enemy
jump _skipShoot strictEqual enemy @null
sensor ex enemy @x
sensor ey enemy @y
ucontrol target ex ey 1
_skipShoot:
op rand angle 360 0
op sin x angle
op cos y angle
op mul x x distance
op mul y y distance
op add x x cx
op add y y cy
ucontrol move x y
